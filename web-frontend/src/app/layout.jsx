import "@/globals.css";
import { SkeletonTheme } from "react-loading-skeleton";
import { Manrope, Poppins } from "next/font/google";
import { startPublicSession } from "@/api/auth";
import { cookies } from "next/headers";
import { serverAPI } from "@/lib/axios.server";
import PublicSessionInit from "./PublicSessionInit";

export const metadata = {
  title: "Inventory Management System",
  description: "Generated by create next app",
};

const manrope = Manrope({
  subsets: ["latin"],
  weight: ["400", "600", "700"],
  variable: "--font-manrope",
  display: "swap",
});

const poppins = Poppins({
  subsets: ["latin"],
  weight: ["400", "600", "700"],
  variable: "--font-poppins",
  display: "swap",
});

const RootLayout = async ({ children }) => {
  return (
    <SkeletonTheme baseColor="#d1e0e0" highlightColor="#edf7f6">
      <html lang="en">
        <body
          className={`antialiased h-screen w-screen m-0 p-0 ${manrope.variable} ${poppins.variable}`}
        >
          <PublicSessionInit />
          <main className="h-full w-full font-primary">{children}</main>
        </body>
      </html>
    </SkeletonTheme>
  );
};

export default RootLayout;
